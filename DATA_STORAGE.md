# ุชุฎุฒูู ูุงุณุชูุฑุงุฏ ุจูุงูุงุช ุงููุณุชุฎุฏู - Data Storage Guide

## โ ูุนูุ ูุชู ุชุฎุฒูู ุจูุงูุงุช ุงููุณุชุฎุฏู ูู ุงูุจุงู ุฅูุฏ ูุงุณุชูุฑุงุฏูุง!

### 1๏ธโฃ ุนูุฏ ุฅูุดุงุก ุงูุญุณุงุจ (Signup):

**ูุง ูุญุฏุซ:**
1. ุงูุจูุงูุงุช ุชูุฑุณู ุฅูู Xano API:
   ```javascript
   {
       fullName: "...",
       email: "...",
       phone: "...",
       password: "...",
       userType: "client" ุฃู "craftsman",
       specialty: "..." // ููุท ููุญุฑูู
   }
   ```

2. Xano ูุญูุธ ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

3. Xano ูุนูุฏ ุจูุงูุงุช ุงููุณุชุฎุฏู + token:
   ```javascript
   {
       user: {
           id: "...",
           email: "...",
           name: "...",
           userType: "..."
       },
       token: "..."
   }
   ```

4. ุงูุจูุงูุงุช ุชูุญูุธ ูุญููุงู ูู localStorage (ูุคูุชุงู)

### 2๏ธโฃ ุนูุฏ ุชุณุฌูู ุงูุฏุฎูู (Login):

**ูุง ูุญุฏุซ:**
1. ุงูุจูุงูุงุช ุชูุฑุณู ุฅูู Xano API:
   ```javascript
   {
       email: "...",
       password: "..."
   }
   ```

2. Xano ูุชุญูู ูู ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

3. Xano ูุนูุฏ ุจูุงูุงุช ุงููุณุชุฎุฏู + token:
   ```javascript
   {
       user: {
           id: "...",
           email: "...",
           name: "...",
           userType: "..."
       },
       token: "..."
   }
   ```

4. ุงูุจูุงูุงุช ุชูุญูุธ ูุญููุงู ูู localStorage

### 3๏ธโฃ ุนูุฏ ูุชุญ ุตูุญุฉ ุงูุจุฑููุงูู:

**ูุง ูุญุฏุซ:**
1. ูุชู ุงุณุชุฏุนุงุก `window.API.Users.getProfile()`
2. ูุชู ุฅุฑุณุงู request ุฅูู Xano:
   ```
   GET /users/profile
   Authorization: Bearer {token}
   ```
3. Xano ูุนูุฏ ุจูุงูุงุช ุงููุณุชุฎุฏู ุงููุงููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
4. ุงูุจูุงูุงุช ุชูุนุฑุถ ูู ุงูุตูุญุฉ

### 4๏ธโฃ ุนูุฏ ุชุญุฏูุซ ุงูุจุฑููุงูู:

**ูุง ูุญุฏุซ:**
1. ุงูุจูุงูุงุช ุงูููุญุฏุซุฉ ุชูุฑุณู ุฅูู Xano:
   ```javascript
   PUT /users/profile
   {
       fullName: "...",
       email: "...",
       phone: "...",
       address: "...",
       city: "..."
   }
   ```

2. Xano ููุญุฏุซ ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

3. Xano ูุนูุฏ ุงูุจูุงูุงุช ุงูููุญุฏุซุฉ

4. ุงูุจูุงูุงุช ุชูุญุฏุซ ูู ุงูุตูุญุฉ

## ๐ ุชุฏูู ุงูุจูุงูุงุช:

```
ุงููุฑููุช ุฅูุฏ                    ุงูุจุงู ุฅูุฏ (Xano)              ูุงุนุฏุฉ ุงูุจูุงูุงุช
โโโโโโโโโโโโโโโโโ              โโโโโโโโโโโโโโโโโโ            โโโโโโโโโโโโโโโโ
1. ุฅูุดุงุก ุญุณุงุจ
   โ
   POST /auth/signup            โ ูุญูุธ ุงูุจูุงูุงุช              โ INSERT user
   { userData }                โ ูุนูุฏ user + token          โ SELECT user
   โ
   ุญูุธ ูู localStorage
   
2. ุชุณุฌูู ุงูุฏุฎูู
   โ
   POST /auth/login             โ ูุชุญูู ูู ุงูุจูุงูุงุช         โ SELECT user
   { email, password }          โ ูุนูุฏ user + token          โ WHERE email = ...
   โ
   ุญูุธ ูู localStorage
   
3. ูุชุญ ุงูุจุฑููุงูู
   โ
   GET /users/profile           โ ูุฌูุจ ุงูุจูุงูุงุช             โ SELECT * FROM users
   Authorization: Bearer token โ ูุนูุฏ user data             โ WHERE id = ...
   โ
   ุนุฑุถ ุงูุจูุงูุงุช
   
4. ุชุญุฏูุซ ุงูุจุฑููุงูู
   โ
   PUT /users/profile           โ ููุญุฏุซ ุงูุจูุงูุงุช            โ UPDATE users
   { updatedData }             โ ูุนูุฏ user data updated       โ SET ...
   โ
   ุชุญุฏูุซ ูู ุงูุตูุญุฉ
```

## ๐ ููุงุญุธุงุช ูููุฉ:

### localStorage vs Database:
- **localStorage**: ููุณุชุฎุฏู ููุท ูุชุฎุฒูู ูุคูุช ููุจูุงูุงุช ุงูุฃุณุงุณูุฉ (email, name, token)
- **Database (Xano)**: ุงููุตุฏุฑ ุงูุฑุฆูุณู ูุฌููุน ุงูุจูุงูุงุช

### ุนูุฏ ูุชุญ ุงูุจุฑููุงูู:
- ุงูุจูุงูุงุช ุชูุฌูุจ ุฏุงุฆูุงู ูู ุงูุจุงู ุฅูุฏ (fresh data)
- localStorage ููุณุชุฎุฏู ููุท ููุชุญูู ูู ุชุณุฌูู ุงูุฏุฎูู

### ุนูุฏ ุชุญุฏูุซ ุงูุจุฑููุงูู:
- ุงูุชุญุฏูุซุงุช ุชูุฑุณู ููุจุงู ุฅูุฏ ุฃููุงู
- ุจุนุฏ ุงููุฌุงุญุ ุงูุจูุงูุงุช ุชูุญุฏุซ ูู ุงูุตูุญุฉ

## โ ุงูุชุญูู ูู ุงูุนูู:

### 1. ุชุญูู ูู Xano Dashboard:
- ุงุฐูุจ ุฅูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุชุญูู ูู ูุฌูุฏ ุงููุณุชุฎุฏููู ุงูุฌุฏุฏ

### 2. ุชุญูู ูู Network Tab:
- ุงูุชุญ Developer Tools โ Network
- ุฌุฑุจ ุฅูุดุงุก ุญุณุงุจ
- ูุฌุจ ุฃู ุชุฑู request ุฅูู Xano
- ุชุญูู ูู Response

### 3. ุชุญูู ูู ุตูุญุฉ ุงูุจุฑููุงูู:
- ุงูุชุญ `profile.html`
- ูุฌุจ ุฃู ุชูุฌูุจ ุงูุจูุงูุงุช ูู ุงูุจุงู ุฅูุฏ
- ุชุญูู ูู Network Tab โ ูุฌุจ ุฃู ุชุฑู GET request

## ๐ง ุฅุฐุง ูู ุชุนูู:

### ุงููุดููุฉ 1: ุงูุจูุงูุงุช ูุง ุชูุญูุธ ูู Xano
**ุงูุณุจุจ**: Query ูู Xano ูุง ูุญูุธ ุงูุจูุงูุงุช
**ุงูุญู**: ุชุญูู ูู Query Logic ูู Xano Dashboard

### ุงููุดููุฉ 2: ุงูุจูุงูุงุช ูุง ุชูุฌูุจ ูู Xano
**ุงูุณุจุจ**: Endpoint `/users/profile` ุบูุฑ ููุฌูุฏ
**ุงูุญู**: ุฃูุดุฆ Query ูู Xano ูุฌูุจ ุจูุงูุงุช ุงููุณุชุฎุฏู

### ุงููุดููุฉ 3: ุงูุชุญุฏูุซุงุช ูุง ุชูุญูุธ
**ุงูุณุจุจ**: Endpoint `/users/profile` PUT ุบูุฑ ููุฌูุฏ
**ุงูุญู**: ุฃูุดุฆ Query ูู Xano ูุชุญุฏูุซ ุจูุงูุงุช ุงููุณุชุฎุฏู

---

**ุงูุฎูุงุตุฉ**: โ ูุนูุ ุงูุจูุงูุงุช ุชูุฎุฒู ูู ุงูุจุงู ุฅูุฏ ูุชูุณุชูุฑุฏ ููู!

